webpackJsonp([77],{jHCb:function(t,e){},rI5o:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Gu7T"),n=a.n(i),r=a("//Fk"),l=a.n(r),c=a("Xxa5"),s=a.n(c),o=a("Dd8w"),u=a.n(o),d=a("exGp"),v=a.n(d),f=a("mvHQ"),m=a.n(f),p=a("3r8y"),h=a("Gtft"),y=a("ylad"),b=a("Zqov"),k=a("kIQj"),_={name:"addReceipt",extends:p.a,components:{ListInfo:y.a},data:function(){return{initData:null,data:{},subForm:[{form:[{attr:"receiptTime",type:"date",title:"收款时间",placeholder:"请选择收款时间",required:!0},{attr:"carPrice",title:"车身售价",disable:!0,rules:{required:!1},required:!1},{attr:"deposit",title:"客户支付定金",disable:!0,rules:{required:!1},required:!1},{attr:"retainage",title:"车辆尾款",detail:[{title:"已收款",key:"retainage"}]},{attr:"clivta",title:"交强险",detail:[{title:"已收款",key:"clivta"}]},{attr:"vehicleInsurance",title:"商业险",detail:[{title:"已收款",key:"vehicleInsurance"}]},{attr:"otherInsurance",title:"其他险",detail:[{title:"已收款",key:"otherInsurance"}]},{attr:"financialServiceFee",title:"金融服务费",detail:[{title:"已收款",key:"financialServiceFee"},{title:"剩余款",key:"financialServiceFee",color:"#FDA926"}]},{attr:"freightIncome",title:"运费收入",detail:[{title:"已收款",key:"freightIncome"}]},{attr:"licensePlateIncome",title:"报牌费收入",detail:[{title:"已收款",key:"licensePlateIncome"}]},{attr:"boutiqueIncome",title:"精品收入",detail:[{title:"已收款",key:"boutiqueIncome"}]},{attr:"warrantyPrice",title:"质保费用",detail:[{title:"已收款",key:"warrantyPricev"}]},{attr:"purchaseTax",title:"购置税",detail:[{title:"已收款",key:"purchaseTax"}]},{attr:"otherIncome",title:"其它收入",detail:[{title:"已收款",key:"otherIncome"}]},{attr:"otherIncomeRemark",title:"其它收入备注",type:"text",placeholder:"精品收入包含..."}].map(this.getFormItem)},{title:"附件信息",form:[{attr:"receiptVoucher",type:"fileUpload",title:"客户收款支付凭证",value:null,line:!1,placeholder:"请选择客户收款支付凭证",rules:{required:!0},required:!0,indent:!1}]}],form:[]}},mounted:function(){this.fetchData()},methods:{isEdit:function(){return this.initData!==m()(this.form)},fetchData:function(){var t=this;return v()(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.f)(t.params);case 2:t.data=e.sent,t.form=t.subForm.map(function(e){return u()({},e,{form:e.form.map(function(e){return u()({},e,{value:e.disable?Object(b.b)(u()({},e,{data:t.data,key:e.attr})):"",text:e.disable?Object(b.b)(u()({},e,{data:t.data,key:e.attr})):"",detail:e.detail?e.detail.map(function(e){return u()({},e,{value:Object(b.b)(u()({data:t.data},e,{type:"price"}))})}):void 0})})})});case 4:case"end":return e.stop()}},e,t)}))()},getFormItem:function(t){return u()({type:"money",rules:{required:!0},required:!0,text:null,value:null,placeholder:"请输入"+t.title,indent:!1},t)},onBtnClick:function(){var t,e=this,a=this.$refs.va.map(function(t){return t.changeV()});l.a.all(a).then((t=v()(s.a.mark(function t(a){var i;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!a.every(function(t){return t})){t.next=8;break}return i=[],e.form.forEach(function(t){return i.push.apply(i,n()(t.form))}),t.next=6,Object(k.b)(Object(b.c)(i,{deliveryId:e.params.id}));case 6:e.params.onSuccess&&e.params.onSuccess(),e.$router.go(-1);case 8:case"end":return t.stop()}},t,e)})),function(e){return t.apply(this,arguments)}))}},activated:function(){h.a.setRight()}},x={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"input-box2"},[a("div",{staticClass:"header-contain"},[a("div",{staticClass:"item"},[a("div",{staticClass:"header-title"},[t._v("已收款合计")]),t._v(" "),a("div",{staticClass:"header-content"},[t._v(t._s(213421))])]),t._v(" "),a("div",{staticClass:"item"},[a("div",{staticClass:"header-title"},[t._v("剩余应收款合计")]),t._v(" "),a("div",{staticClass:"header-content",staticStyle:{color:"#FDA926"}},[t._v(t._s(213421))])])]),t._v(" "),a("div",{staticClass:"scroll"},[t._l(t.form,function(e,i){return a("div",{key:i,staticClass:"content"},[e.title?a("div",{staticClass:"section-title section-margin-top"},[t._v("\n          "+t._s(e.title)+"\n        ")]):t._e(),t._v(" "),t._l(e.form,function(e,i){return a("div",{key:"index2"+i,staticClass:"in-box",class:{self:50===e.columnWidth}},[a("yi-input",t._b({ref:"va",refInFor:!0,attrs:{value:e.value,indent:!0,selData:e.selData||null},on:{"update:value":function(a){t.$set(e,"value",a)}},model:{value:e.text,callback:function(a){t.$set(e,"text",a)},expression:"item1.text"}},"yi-input",e,!1))],1)})],2)}),t._v(" "),a("div",{staticClass:"space-box"})],2)]),t._v(" "),a("yi-btn-box",{attrs:{name:"确认收款",icon:t.$images.delivery.ic_money},on:{onBtnClick:t.onBtnClick}})],1)},staticRenderFns:[]};var I=a("VU/8")(_,x,!1,function(t){a("jHCb")},"data-v-16650640",null);e.default=I.exports}});