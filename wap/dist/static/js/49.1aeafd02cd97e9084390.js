webpackJsonp([49],{WCC9:function(t,e){},vPeI:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("Xxa5"),r=a.n(n),s=a("exGp"),i=a.n(s),c=a("Gu7T"),o=a.n(c),u=a("dwHJ"),l=a("Th62"),d=a("FWz8"),m=a("OPJW"),f=a("Gtft"),p=a("I9E5"),v={name:"OrderConfirm",extends:m.a,components:{MoreImages:l.a,CommonTab:u.a},data:function(){var t=this.$route.params.params.orderFileCabinetList;return{state:this.$route.params.state,signUrl:"",orderInfo:[{title:"附件信息",isFileInfo:!0,data:t.filter(function(t){return"委托订购合同"!==t.title})}]}},computed:{btnTitle:function(){switch(this.state){case 1:return"重新签约";case 2:return"完成签约";case 3:return"确认合同";default:return""}},contractUrl:function(){return 2===this.state?[].concat(o()(this.params.params.contractUrl),[this.signUrl]):[].concat(o()(this.params.params.contractUrl))}},mounted:function(){var t=this;2===this.state&&Object(d.p)(this.params.params.orderContractId).then(function(e){return t.signUrl="data:image/png;base64,"+e})},activated:function(){var t=this;f.a.setRight({text:"编辑",onSuccess:function(){t.$RouteUtil.orderEdit({BACK_ACTION:{path:t.ROUTE_PATH},id:t.params.id,onSuccess:function(){t.params.onSuccess&&t.params.onSuccess(),t.$router.go(-1)}})}})},methods:{handleSureClick:function(){var t=this;return i()(r.a.mark(function e(){var a,n,s;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=t.params,n=a.params,s=a.onSuccess,e.t0=t.state,e.next=1===e.t0?4:2===e.t0?8:3===e.t0?11:14;break;case 4:return e.next=6,Object(d.t)(n.orderContractId);case 6:return p.a.showToast({txt:"发送成功"}),e.abrupt("break",15);case 8:return e.next=10,Object(d.c)(n.orderContractId);case 10:return e.abrupt("break",15);case 11:return e.next=13,Object(d.b)(n.orderContractId);case 13:case 14:return e.abrupt("break",15);case 15:s&&s(),t.$router.go(-1);case 17:case"end":return e.stop()}},e,t)}))()},handleImgClick:function(t){f.a.previewImage({urls:this.contractUrl,current:t})}}},h={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("yi-container",[a("cube-scroll",[t._l(t.contractUrl,function(e,n){return a("yi-touch",{key:n+e,staticStyle:{width:"100%"},attrs:{"component-name":"img",src:e},on:{click:function(a){t.handleImgClick(e)}}})}),t._v(" "),t._l(t.orderInfo,function(e,n){return a("div",{key:n,staticClass:"item-contain"},[a("div",{staticClass:"section-text"},[t._v(t._s(e.title))]),t._v(" "),e.isFileInfo?a("div",{staticClass:"file-contain"},t._l(e.data,function(t,n){return a("MoreImages",{key:n,attrs:{"all-data":e.data,title:t.title,images:t.images}})})):a("div",{staticClass:"info-contain"},[a("div",t._l(e.data,function(e,n){return a("div",{key:n,staticClass:"item"},[t._v(t._s(e.title)+"：")])})),t._v(" "),a("div",t._l(e.data,function(e,n){return a("div",{key:n,staticClass:"item value"},[t._v(t._s(e.value))])}))]),t._v(" "),n!==t.orderInfo.length-1?a("div",{staticClass:"line-space"}):t._e()])})],2),t._v(" "),a("yi-btn-box",{attrs:{name:t.btnTitle},on:{onBtnClick:t.handleSureClick}})],1)},staticRenderFns:[]};var C=a("VU/8")(v,h,!1,function(t){a("WCC9")},"data-v-7388627a",null);e.default=C.exports}});