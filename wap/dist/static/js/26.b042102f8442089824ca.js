webpackJsonp([26],{"9Jk8":function(e,t){},KkEo:function(e,t,a){"use strict";a.d(t,"b",function(){return n}),a.d(t,"c",function(){return r}),a.d(t,"d",function(){return o}),a.d(t,"a",function(){return s});var l=a("Gtft"),i=a("2uFj"),u=a("6D10"),n=function(e,t){if(!t.latitude)return"无";var a=Object(u.e)(e.latitude,e.longitude,t.latitude,t.longitude);return a/1e3>1?(a/1e3).toFixed(2)+"km":a+"m"},r=function(e,t){return t?e?e.split(" ")[0]===(new Date).format("yyyy-MM-dd")?"今日需跟进":new Date(e.replace(/-/g,"/")).getTime()<=(new Date).getTime()?"已逾期!原定跟进时间:"+e.split(" ")[0]:"下次跟进时间 ："+e.split(" ")[0]:"暂无跟进计划":null},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.title,a=void 0===t?"宜买车ERP":t,u=e.content,n=void 0===u?"分享了一个链接":u,r=e.module,o=e.type,s=e.id;l.a.share({title:a,content:n,url:i.i+"?module="+r+"&type="+o+"&id="+s+"&env="+i.f.toLocaleLowerCase(),onSuccess:function(){}})},s=function(e){return 6!==e&&4!==e&&5!==e}},s8DY:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("Xxa5"),i=a.n(l),u=a("exGp"),n=a.n(u),r=a("Gtft"),o=a("AYFL"),s=a("Dd8w"),c=a.n(s),m=a("laDb"),v=a("I9E5"),d={rightTitleParams:function(e){return e.params.params.responsible&&e.$store.state.user.userAuths["wap-crm-agent-edit"]?{text:"编辑",onSuccess:function(){e.hasAuth?m.a.editInfo(c()({},e.params,{onSuccess:function(){e.params.onSuccess&&e.params.onSuccess(),e.$router.go(-1)}})):v.a.showToast({txt:"只有负责人、协同人或者主管才能操作"})}}:{}},transformData:function(e){var t=e.name,a=e.nickname,l=e.agentNo,i=e.mobile,u=e.address,n=e.createTime,r=e.lastFollowUpTime,o=e.obtainTime,s=e.nextFollowUpTime,c=(e.lastActiveTime,e.gender),m=e.level,v=e.area,d=e.type,p=e.followUpStatus,f=(e.category,e.label,e.remark),h=(e.origin,e.giveUpReason),g=e.industry,y=e.ageRange,T=e.experience,b=e.identity,D=e.livingTime,k=e.wechatAccount,w=e.communication,N=e.beingConsulted,x=e.interestedly,S=e.advantage,I=e.business,P=e.valueJudgment,C=e.salesNextFollowUpTime,R=e.salesLastFollowUpTime;return{data:[{title:"微信名",value:t},{title:"经纪人姓名",value:a},{title:"微信号",value:k},{title:"经纪人编号",value:l},{title:"经纪人性别",value:c&&c.name},{title:"联系电话",value:i},{title:"经纪人等级",value:m&&m.name},{title:"经纪人类别",value:d&&d.name},{title:"经纪人状态",value:p&&p.name},{title:"经纪人地址",value:u},{title:"经纪人地区",value:v},{title:"年龄段",value:y&&y.name},{title:"行业",value:g},{title:"从业经验",value:T&&T.name},{title:"身份",value:b&&b.name},{title:"本地居住时间",value:D&&D.name},{title:"是否愿意积极沟通",value:w&&w.name},{title:"平时是否有人咨询买车",value:N&&N.name},{title:"对经纪人模式是否感兴趣",value:x&&x.name},{title:"认为宜买车是否有优势",value:S&&S.name},{title:"对卖车的了解程度",value:P&&P.name},{title:"对经纪人的价值判断",value:I&&I.name},{title:"BD备注",value:f,type:"html"},{title:"放弃理由",value:h,type:"html"},{title:"创建时间",value:n},{title:"获取时间",value:o},{title:"地推下次跟进时间",value:s},{title:"地推最后跟进时间",value:r},{title:"销售下次跟进时间",value:C},{title:"销售最后跟进时间",value:R}]}}},p=a("KkEo"),f={agents:d,clues:{rightTitleParams:function(e){return e.params.params.responsibleId&&e.$store.state.user.userAuths["wap-crm-clue-edit"]&&Object(p.a)(e.data.status.code)?{text:"编辑",onSuccess:function(){e.hasAuth?m.a.clueEdit({id:e.id,onSuccess:function(){e.params.onSuccess&&e.params.onSuccess(),e.$router.go(-1)}}):v.a.showToast({txt:"只有负责人、协同人或者主管才能操作"})}}:{}},transformData:function(e){var t=e.customerName,a=e.carName,l=e.customerMobile,i=e.customerGender,u=e.inColor,n=e.area,r=e.outColor,o=e.groundPromotionId,s=e.groundPromotionName,c=e.intentionGrade,v=e.customerId,d=e.remark,p=e.storeSimpleDTO,f=e.shoppingWay,h=e.brokerName,g=e.brokerId,y=e.intentionType,T=e.coupon,b=e.darkLevel,D=e.shoppingTime,k=e.compareNum,w=e.to4s,N=e.quotation,x=e.qualifications,S=[];o&&S.push({title:"关联地推",value:s}),g&&S.push({title:"关联经纪人",value:h,click:function(){return m.a.commonDetail({id:g,module:"agents",type:"all"})}}),T&&S.push({title:"活动信息",value:"客户已领取1000元现金抵用券，请知悉！"});var I=[];return 2===y.code?I.push({title:"意向车型",value:"意向模糊"}):I.push.apply(I,[{title:"意向车型",value:a},{title:"外观",value:r},{title:"内饰",value:u}]),b&&b.name&&I.push({title:"实际等级",value:b.name}),I.push.apply(I,[{title:"意向等级",value:c&&c.name},{title:"线索地区",value:n},{title:"地面店",value:p&&p.storeName},{title:"备注信息",value:d,type:"html"},{title:"购车方案",value:f&&f.name},{title:"预计购车时间",value:D&&D.name},{title:"对比车型数量",value:k&&k.name},{title:"是否去过4S店",value:w?"是":"否"},{title:"是否有4S店报价单",value:N?"是":"否"},{title:"购车资格",value:x?"是":"否"}]),{type:"section",data:[{title:"客户信息",data:[{title:"客户姓名",value:t,click:function(){return m.a.commonDetail({id:v,module:"customers",type:"all"})}},{title:"客户性别",value:i&&i.name},{title:"联系电话",value:l}]},{title:"线索信息",data:I},{title:"其它信息",data:S}]}}},customers:{rightTitleParams:function(e){return e.params.params.responsible&&e.$store.state.user.userAuths["wap-crm-customer-edit"]?{text:"编辑",onSuccess:function(){e.hasAuth?m.a.clientAdd(c()({},e.params,{type:"edit",onSuccess:function(){e.params.onSuccess&&e.params.onSuccess(),e.$router.go(-1)}})):v.a.showToast({txt:"只有负责人、协同人或者主管才能操作"})}}:{}},transformData:function(e){var t=e.name,a=e.nickname,l=e.customerNo,i=e.mobile,u=e.gender,n=e.level,r=e.type,o=e.followUpStatus,s=e.industry,c=e.remark,m=e.origin;return{data:[{title:"客户姓名",value:t},{title:"客户编号",value:l},{title:"姓名备注",value:a},{title:"联系电话",value:i},{title:"客户性别",value:u.name},{title:"客户来源",value:m&&m.name},{title:"客户类型",value:r&&r.name},{title:"客户状态",value:o&&o.name},{title:"客户行业",value:s},{title:"客户等级",value:n.code,type:"rate"},{title:"备注信息",value:c,type:"html"}]}}},enquiryPrices:{rightTitleParams:function(){return{}},transformData:function(e){var t=e.customerName,a=e.customerMobile,l=e.customerGender,i=e.clueNo,u=e.customerId,n=e.vehicleModel,r=e.area,o=e.shoppingWay,s=e.clueCreateTime,c=e.appearance,v=e.interior,d=e.clueId,p=e.storeName,f=e.belongPlace,h=e.clueLevel,g=e.clueStatus,y=e.clueRemark,T=e.brokerId,b=e.brokerName,D=e.quotedTime,k=e.createTime,w=e.updateTime,N=[{title:"客户姓名",value:t,click:function(){return m.a.commonDetail({id:u,module:"customers",type:"all"})}},{title:"客户性别",value:l&&l.name},{title:"客户电话",value:a},{title:"车型",value:n},{title:"外观",value:c,type:"color"},{title:"内饰",value:v,type:"color"},{title:"线索编号",value:i,click:function(){return m.a.commonDetail({id:d,module:"clues",type:"all"})}},{title:"线索状态",value:g&&g.name},{title:"意向等级",value:h&&h.name},{title:"预计提车时间",value:r},{title:"购车方式",value:o&&o.name},{title:"线索归属地",value:f},{title:"线索归属地面店",value:p}];return T&&N.push({title:"关联经纪人",value:b,click:function(){return m.a.commonDetail({id:T,module:"agents",type:"all"})}}),N.push.apply(N,[{title:"线索备注",value:y,type:"html"},{title:"线索创建时间",value:s},{title:"发起询价时间",value:k},{title:"提交报价时间",value:D},{title:"单据更新时间",value:w}]),{data:N}}},order:{rightTitleParams:function(){return{}},transformData:function(e){var t=e.name,a=e.orderNo,l=e.mobile,i=e.outColor,u=e.inColor,n=e.carName,r=e.receiptsNo,o=e.orderType,s=e.clueNo,c=e.shoppingWay,v=e.followUpStatus,d=e.giveUpReason,p=e.createTime,f=e.updateTime,h=e.finishTime,g=e.customerId,y=e.clueId,T=e.agent,b=e.agentResponsible;return{data:[{title:"客户姓名",value:t,click:function(){return m.a.commonDetail({id:g,module:"customers",type:"all"})}},{title:"客户电话",value:l},{title:"车型信息",value:n},{title:"外观",value:i},{title:"内饰",value:u},{title:"合同编号",value:a},{title:"单据编号",value:r},{title:"订单类型",value:o&&o.name},{title:"关联线索",value:s,click:function(){return m.a.commonDetail({id:y,module:"clues",type:"all"})}},{title:"关联经纪人",value:T&&T.name},{title:"关联地推",value:b&&b.name},{title:"购车方式",value:c&&c.name},{title:"门店信息",value:v&&v.name},{title:"订单生成时间",value:p},{title:"订单更新时间",value:f},{title:"实际交车时间",value:d},{title:"订单完成时间",value:h}].filter(function(e){var t=e.title,a=e.value;return!(("关联线索"===t||"关联地推"===t||"关联经纪人"===t)&&!a)})}}},quotedPrices:{rightTitleParams:function(){return{}},transformData:function(e){var t=e.customerName,a=e.customerMobile,l=e.customerGender,i=e.clueNo,u=e.customerId,n=e.vehicleModel,r=e.area,o=e.shoppingWay,s=e.clueCreateTime,c=e.appearance,v=e.interior,d=e.clueId,p=e.storeName,f=e.belongPlace,h=e.clueLevel,g=e.clueStatus,y=e.clueRemark,T=e.brokerId,b=e.brokerName,D=e.quotedTime,k=e.createTime,w=e.updateTime,N=[{title:"客户姓名",value:t,click:function(){return m.a.commonDetail({id:u,module:"customers",type:"all"})}},{title:"客户性别",value:l&&l.name},{title:"客户电话",value:a},{title:"车型",value:n},{title:"外观",value:c,type:"color"},{title:"内饰",value:v,type:"color"},{title:"线索编号",value:i,click:function(){return m.a.commonDetail({id:d,module:"clues",type:"all"})}},{title:"线索状态",value:g&&g.name},{title:"意向等级",value:h&&h.name},{title:"预计提车时间",value:r},{title:"购车方式",value:o&&o.name},{title:"线索归属地",value:f},{title:"线索归属地面店",value:p}];return T&&N.push({title:"关联经纪人",value:b,click:function(){return m.a.commonDetail({id:T,module:"agents",type:"all"})}}),N.push.apply(N,[{title:"线索备注",value:y,type:"html"},{title:"线索创建时间",value:s},{title:"发起询价时间",value:k},{title:"提交报价时间",value:D},{title:"单据更新时间",value:w}]),{data:N}}},delivery:{rightTitleParams:function(){return{}},transformData:function(e){var t=e.name,a=e.orderNo,l=e.mobile,i=e.outColor,u=e.inColor,n=e.carName,r=e.receiptsNo,o=e.orderType,s=e.clueNo,c=e.shoppingWay,v=e.followUpStatus,d=e.giveUpReason,p=e.createTime,f=e.updateTime,h=e.finishTime,g=e.customerId,y=e.clueId,T=e.agent,b=e.agentResponsible;return{data:[{title:"客户姓名",value:t,click:function(){return m.a.commonDetail({id:g,module:"customers",type:"all"})}},{title:"客户电话",value:l},{title:"车型信息",value:n},{title:"外观",value:i},{title:"内饰",value:u},{title:"订单编号",value:a},{title:"订单负责人",value:r},{title:"业务类型",value:o&&o.name},{title:"关联线索",value:s,click:function(){return m.a.commonDetail({id:y,module:"clues",type:"all"})}},{title:"关联经纪人",value:T&&T.name},{title:"关联地推",value:b&&b.name},{title:"订车方式",value:c&&c.name},{title:"物流方式",value:c&&c.name},{title:"门店信息",value:v&&v.name},{title:"订单生成时间",value:p},{title:"订单更新时间",value:f},{title:"实际交车时间",value:d},{title:"订单完成时间",value:h}].filter(function(e){var t=e.title,a=e.value;return!(("关联线索"===t||"关联地推"===t||"关联经纪人"===t)&&!a)})}}}},h=a("OPJW"),g=a("t5DY"),y={name:"CommonDetailMore",extends:h.a,components:{ListBox:o.a},computed:{userId:function(){return this.$store.state.user.id},isLeader:function(){return this.$store.getters["user/isLeader"]},isResponsible:function(){return this.params.params.personData.master&&this.params.params.personData.master.id===this.userId},isParticipant:function(){var e=this;return this.isResponsible||-1!==this.params.params.personData.pater.findIndex(function(t){return t.id===e.userId})},hasAuth:function(){return this.isLeader||this.isParticipant},form:function(){return f[this.params.module].transformData(this.params.params)}},activated:function(){this.fetchData()},data:function(){return{data:{},id:this.$route.params.id}},methods:{fetchData:function(){var e=this;return n()(i.a.mark(function t(){var a;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(g.g)({id:e.id,module:e.params.module});case 2:a=t.sent,e.data=a,r.a.setRight(f[e.params.module].rightTitleParams(e));case 5:case"end":return t.stop()}},t,e)}))()}}},T={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"more-box"},[a("cube-scroll",["section"===e.form.type?e._l(e.form.data,function(t,l){return a("div",{key:l},[a("p",{directives:[{name:"show",rawName:"v-show",value:0!==t.data.length,expression:"item.data.length !== 0"}],staticClass:"title"},[e._v(e._s(t.title))]),e._v(" "),a("list-box",{attrs:{form:t.data}})],1)}):a("list-box",{attrs:{form:e.form.data}})],2)],1)},staticRenderFns:[]};var b=a("VU/8")(y,T,!1,function(e){a("9Jk8")},"data-v-19c3fae1",null);t.default=b.exports}});