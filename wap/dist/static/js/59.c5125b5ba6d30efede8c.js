webpackJsonp([59],{azSX:function(e,s,o){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var t=o("I9E5"),l={name:"ChooseInnerColor",mounted:function(){this.$AlertUtil.saveInstance("chooseInnerColor",this)},beforeDestroy:function(){this.$AlertUtil.removeInstance("chooseInnerColor")},watch:{visible:function(e){var s=this;e||setTimeout(function(){s.visible2=!1},800)}},data:function(){return{isScroll:!0,visible:!1,visible2:!1,selectIndex:0,colorList:[{colors:[{name:"黑色",hex:"#000000"},{name:"蓝色",hex:"#0000ff"}]}],onSuccess:null}},methods:{handleSureClick:function(){this.isScroll?(this.onSuccess&&this.onSuccess({key:this.selectIndex,value:this.colorList[this.selectIndex]}),this.hide()):t.a.showToast({txt:"您点太快了",type:"warn"})},cancel:function(){this.hide()},selectColor:function(e,s){this.selectIndex=s;var o;o=document.querySelectorAll(".ul-box .li")[0].clientHeight*s*-1,this.$refs.scroll.scrollTo(0,o,1e3),console.log(this.selectIndex)},show:function(e){var s=this,o=e.selKey,l=e.colorList,i=e.onSuccess,c=e.isOther;if(l&&l!==[]||c){if(this.visible=!0,this.visible2=!0,this.colorList=l,this.onSuccess=i,c){"object"===this.colorList||this.colorList||(this.colorList=[]);var n=!0;this.colorList.forEach(function(e){"其他颜色"===e.colors[0].name&&(n=!1)}),n&&this.colorList.push({colors:[{name:"其他颜色",hex:""}]})}var r=setTimeout(function(){var e=document.querySelectorAll(".innerBox .list-box"),t=document.querySelectorAll(".innerBox .ul-box"),l=document.querySelectorAll(".innerBox .ul-box .li"),i=document.querySelectorAll(".innerBox .top"),c=document.querySelectorAll(".innerBox .line.bottom"),n=l[0].clientHeight;e[0].style.height=4*n+"px",t[0].style.paddingTop=n+"px",t[0].style.paddingBottom=2*n+10+"px",i[0].style.top=n+"px",c[0].style.top=2*n+"px",o&&s.colorList[o]&&s.selNowItem(o),-1===o&&s.colorList[s.colorList.length-1]&&s.selNowItem(s.colorList.length-1),console.log(s.selectIndex,"10"),clearTimeout(r)},200)}else t.a.showToast({txt:"无颜色可选",type:"warn"})},hide:function(){this.onSuccess=null,this.visible=!1},scroll:function(){this.isScroll=!1},beforeScroll:function(e){console.log(e,"beforeScroll")},scrollEnd:function(e){console.log("end");var s=0,o=document.querySelectorAll(".ul-box .li")[0].clientHeight,t=-100;t=(s=parseInt(e.y/o))*o,Math.abs(e.y)-Math.abs(t)>o/2&&(s-=1,t=parseInt(s)*o),this.selectIndex=Math.abs(s),console.log(this.selectIndex),e.y%o!=0&&this.$refs.scroll.scrollTo(0,t,10),this.isScroll=!0},selNowItem:function(e){if(this.colorList[e]){var s=e*document.querySelectorAll(".ul-box .li")[0].clientHeight*-1;this.$refs.scroll.scrollTo(0,s,0),console.log(e,"initail"),this.selectIndex=e,console.log(this.selectIndex)}}}},i={render:function(){var e=this,s=e.$createElement,o=e._self._c||s;return o("div",{directives:[{name:"show",rawName:"v-show",value:e.visible2,expression:"visible2"}],staticClass:"color-box innerBox",class:{show:e.visible,hide:!e.visible},on:{click:e.hide}},[o("div",{staticClass:"content",on:{click:function(e){e.stopPropagation()}}},[o("p",{staticClass:"p-btns"},[o("span",{staticClass:"left",on:{click:e.cancel}},[e._v("取消")]),e._v(" "),o("span",{staticClass:"right",on:{click:e.handleSureClick}},[e._v("确认")])]),e._v(" "),o("div",{staticClass:"list-box"},[o("span",{staticClass:"line top"}),e._v(" "),o("span",{staticClass:"line bottom"}),e._v(" "),e.visible2?o("cube-scroll",{ref:"scroll",staticClass:"list-scroll",attrs:{"scroll-events":["scroll","before-scroll-start","scroll-end"]},on:{scroll:e.scroll,"scroll-end":e.scrollEnd}},[o("ul",{staticClass:"ul-box"},e._l(e.colorList,function(s,t){return o("yi-touch",{key:t,staticClass:"li",class:{over:e.selectIndex===t},attrs:{"component-name":"li"},on:{click:function(o){e.selectColor(s,t)}}},[o("p",{staticClass:"p-box"},[o("yi-inner-color",{attrs:{colors:s},on:{"update:colors":function(e){s=e}}}),e._v(" "),o("span",{staticClass:"name"},[e._v("\n                  "+e._s(s.colors[0].name)),s.colors[1]?o("span",[e._v("/"+e._s(s.colors[1].name))]):e._e()])],1)])}))]):e._e()],1)])])},staticRenderFns:[]};var c=o("VU/8")(l,i,!1,function(e){o("cjjN")},"data-v-415e150d",null);s.default=c.exports},cjjN:function(e,s){}});