webpackJsonp([67],{UJlU:function(e,t){},obXe:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("Dd8w"),i=n.n(a),l=n("//Fk"),r=n.n(l),o=n("mvHQ"),s=n.n(o),c=n("OT9B"),u=n("3r8y"),d=n("Gtft"),f={name:"clue-add",extends:u.a,created:function(){var e=this;this.$nextTick(function(){var t=e.menu.gender;e.form.info.forEach(function(e){switch(e.attr){case"gender":e.selData.source=t.map(function(e){return{key:e.name,value:e.code}})}}),e.initData=s()(e.form)})},data:function(){return{initData:null,form:{type:"add-step1",info:[{attr:"name",type:"text",title:"客户名称",text:"",placeholder:"请选择客户名称",rules:{required:!0},required:!0,indent:!1},{attr:"mobile",type:"text",title:"联系电话",text:null,value:null,placeholder:"客户联系电话",rules:{required:!0,mobile:!0},required:!0,indent:!1},{attr:"gender",type:"select",title:"性别",value:null,placeholder:"请选择性别",rules:{required:!0},required:!0,indent:!1,selData:{source:[{key:"男",value:1},{key:"女",value:2}],selectedKey:"男"}}]}}},methods:{isEdit:function(){return this.initData!==s()(this.form)},onBtnClick:function(){var e=this,t=this.$refs.va.map(function(e){return e.changeV()});r.a.all(t).then(function(t){if(t.every(function(e){return e})){console.log(e.form,"校验成功并提交数据");var n={};e.form.info.forEach(function(e){var t="";t=e.value?e.value:0===e.value?0:e.text,console.log(t,"item1"),n[e.attr]=t}),console.log(n,"222"),n.gender&&(n.gender=parseInt(n.gender)),Object(c.b)(n).then(function(t){if(console.log(t,222),t.isExist)e.$RouteUtil.clueAddTwo(i()({},e.params,{info:n,data:t}));else{var a={userId:t.id,name:t.name,mobile:t.mobile,gender:t.gender.code};e.$RouteUtil.clueAddThree(i()({},e.params,{obj:a}))}}).catch(function(e){console.log(e,"888")})}})}},activated:function(){d.a.setRight()}},v={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"input-box2"},[n("cube-scroll",[n("div",{staticClass:"content"},[n("div",{staticClass:"section-title section-margin-top"},[e._v("\n          客户信息\n        ")]),e._v(" "),e._l(e.form.info,function(t,a){return n("div",{key:"index2"+a,staticClass:"in-box",class:{self:50===t.columnWidth}},[n("yi-input",e._b({ref:"va",refInFor:!0,attrs:{value:t.value,indent:!0,selData:t.selData||null},on:{"update:value":function(n){e.$set(t,"value",n)}},model:{value:t.text,callback:function(n){e.$set(t,"text",n)},expression:"item1.text"}},"yi-input",t,!1))],1)}),e._v(" "),n("div",{staticClass:"space-box"})],2)])],1),e._v(" "),n("yi-btn-box",{attrs:{name:"下一步"},on:{onBtnClick:e.onBtnClick}})],1)},staticRenderFns:[]};var m=n("VU/8")(f,v,!1,function(e){n("UJlU")},"data-v-2c349062",null);t.default=m.exports}});